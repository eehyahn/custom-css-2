
#unified-extensions-button:is(:hover:active, [open], [checked]) > * {
  background-color: transparent !important;
}


#unified-extensions-button:is(:hover, [open="fasle"], [checked="false"]) > * {
  background-color: transparent !important;
}

/* Copy URL button styling - same as unified extensions button */
#unified-copy-url-toolbar-button {
  -moz-context-properties: fill;
  fill: currentColor;
  list-style-image: url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3E%3Cpath fill='context-fill' d='M6.17 6.309a5.317 5.317 0 0 1 7.522 0a5.326 5.326 0 0 1 0 7.529l-1.43 1.43a.75.75 0 0 0 1.06 1.061l1.43-1.431a6.826 6.826 0 0 0 0-9.65a6.817 6.817 0 0 0-9.644 0l-2.86 2.864A6.826 6.826 0 0 0 6.69 19.749a.75.75 0 1 0 .083-1.498a5.326 5.326 0 0 1-3.465-9.08z'/%3E%3Cpath fill='context-fill' d='M17.31 4.251a.75.75 0 0 0-.083 1.498a5.326 5.326 0 0 1 3.465 9.08L17.83 17.69a5.317 5.317 0 0 1-7.523 0a5.326 5.326 0 0 1 0-7.528l1.43-1.432a.75.75 0 0 0-1.06-1.06l-1.43 1.431a6.826 6.826 0 0 0 0 9.65a6.817 6.817 0 0 0 9.644 0l2.86-2.864A6.826 6.826 0 0 0 17.31 4.251'/%3E%3C/svg%3E") !important;
}

/* Copy URL button hover states - same as unified extensions button */
#unified-copy-url-toolbar-button:is(:hover:active, [open], [checked]) > * {
  background-color: transparent !important;
}

#unified-copy-url-toolbar-button:is(:hover, [open="false"], [checked="false"]) > * {
  background-color: transparent !important;
}

/* Copy URL button positioning in page-action-buttons */
#page-action-buttons #unified-copy-url-toolbar-button {
  order: 9998 !important;
  margin-left: 0px !important;
  margin-right: 6px !important;
  cursor: pointer;
  
 background: light-dark(rgba(0, 0, 0, 0.65), rgba(255, 255, 255, 0.6)) !important;
  /* 2. Apply the icon's SHAPE as a mask. This cuts out the background color. */
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 19 19' fill='black'%3E%3Cpath d='M9.39066 6.80859C9.79504 6.40177 10.3904 6.19866 10.9163 6.42763C10.9914 6.46031 11.0636 6.49486 11.1328 6.53125C11.4453 6.69271 11.7084 6.88281 11.9219 7.10156C12.5782 7.7526 13.0157 8.47396 13.2344 9.26562C13.4532 10.0521 13.4532 10.8411 13.2344 11.6328C13.0157 12.4193 12.5808 13.138 11.9297 13.7891L9.17972 16.5391C8.53388 17.1849 7.81774 17.6172 7.03128 17.8359C6.24482 18.0547 5.45576 18.0547 4.66409 17.8359C3.87763 17.6224 3.15628 17.1849 2.50003 16.5234C1.84378 15.8724 1.40628 15.151 1.18753 14.3594C0.968781 13.5677 0.968781 12.7786 1.18753 11.9922C1.40628 11.2057 1.84118 10.487 2.49222 9.83594L3.93539 8.403C4.14666 8.19323 4.5917 8.41509 4.62503 8.71094V8.71094V8.71094C4.69723 9.34271 4.59526 10.022 4.14563 10.4716L3.69534 10.9219C3.26305 11.3542 2.97399 11.8281 2.82816 12.3438C2.68753 12.8594 2.69013 13.3776 2.83597 13.8984C2.9818 14.4193 3.27086 14.8958 3.70316 15.3281C4.13024 15.7604 4.6042 16.0469 5.12503 16.1875C5.64586 16.3281 6.16409 16.3255 6.67972 16.1797C7.19534 16.0391 7.6693 15.7552 8.10159 15.3281L10.7266 12.7031C11.1589 12.276 11.4453 11.8047 11.586 11.2891C11.7266 10.7682 11.724 10.2474 11.5782 9.72656C11.4375 9.20573 11.1511 8.72917 10.7188 8.29688C10.4896 8.07292 10.211 7.89062 9.88284 7.75C9.80469 7.71527 9.72358 7.68334 9.63952 7.65422C9.28916 7.53285 9.12926 7.07156 9.39066 6.80859V6.80859V6.80859ZM9.63284 12.1992C9.22709 12.6074 8.63299 12.8194 8.10291 12.5952C8.02677 12.563 7.95341 12.5286 7.88284 12.4922C7.57555 12.3255 7.31513 12.1328 7.10159 11.9141C6.44534 11.2578 6.00784 10.5365 5.78909 9.75C5.57034 8.95833 5.57034 8.16927 5.78909 7.38281C6.00784 6.59635 6.44274 5.8776 7.09378 5.22656L9.83597 2.48438C10.487 1.83333 11.2058 1.39844 11.9922 1.17969C12.7787 0.960938 13.5651 0.960938 14.3516 1.17969C15.1433 1.39323 15.8698 1.83073 16.5313 2.49219C17.1823 3.14844 17.6172 3.8724 17.836 4.66406C18.0547 5.45052 18.0547 6.23698 17.836 7.02344C17.6172 7.8099 17.1849 8.52604 16.5391 9.17188L15.0826 10.6181C14.8728 10.8263 14.432 10.6061 14.3985 10.3125V10.3125V10.3125C14.3268 9.67604 14.4304 8.99153 14.8833 8.53864L15.3282 8.09375C15.7604 7.66667 16.0469 7.19531 16.1875 6.67969C16.3282 6.15885 16.3256 5.64062 16.1797 5.125C16.0391 4.60417 15.7526 4.1276 15.3203 3.69531C14.8881 3.26302 14.4141 2.97656 13.8985 2.83594C13.3828 2.6901 12.8646 2.6901 12.3438 2.83594C11.8282 2.97656 11.3542 3.26042 10.9219 3.6875L8.29691 6.3125C7.86461 6.74479 7.57555 7.21875 7.42972 7.73438C7.28909 8.25 7.2917 8.76823 7.43753 9.28906C7.58336 9.80469 7.87243 10.2812 8.30472 10.7188C8.53388 10.9427 8.81253 11.1276 9.14066 11.2734C9.21808 11.3066 9.29841 11.337 9.38164 11.3647C9.73042 11.4807 9.89196 11.9385 9.63284 12.1992V12.1992V12.1992Z'/%3E%3C/svg%3E") !important;
 

  /* --- Mask properties and cleanup --- */
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
  list-style-image: none !important;
 

  /* --- Layout & Transform --- */
  position: relative !important;

scale: 1.1 !important;
  width: 14px !important;
  height: 14px !important;
  transform-origin: center !important;

 
 
  transition: transform 0.3s ease !important;
}


#page-action-buttons #unified-copy-url-toolbar-button:hover{transform: scale(1) rotate(-90deg)  !important;}


/* Extension Grid Styling */
@media (-moz-bool-pref: "mod.extension.viewgrid") {
  /* Desired width */
  #unified-extensions-view { 
    width: calc(var(--menu-panel-width) - 30px) !important; 
  }

  /* Hide header/description/texts and settings icon for each extension */
  #unified-extensions-description,
  #unified-extensions-view .panel-header,
  #unified-extensions-view > :nth-child(2),
  .unified-extensions-item-name,
  .unified-extensions-item-message,
  .unified-extensions-item-message-hover,
  .unified-extensions-item-message-hover-menu-button,
  .unified-extensions-item-menu-button { 
    display: none !important; 
  }

  /* Arrange extensions in a centered grid */
  #overflowed-extensions-list, 
  #unified-extensions-area, 
  .unified-extensions-list {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    justify-content: left !important;
    align-items: center !important;
    margin-inline: 4px !important;
    width: 0px !important;
  }
  
  
  #unified-extensions-area { 
    padding-block-end: 10px !important;
  }

  /* Center buttons and tidy margins */
  .unified-extensions-item {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 12px !important;
  }
  
  .unified-extensions-item-icon,
  .unified-extensions-item .webextension-browser-action.subviewbutton > .toolbarbutton-badge-stack {
    margin: 0px !important;
  }
  
  panelview .unified-extensions-item-action-button { 
    padding: 10px 10px !important; 
  }

  #unified-extensions-view toolbarseparator { 
    margin-top: 0px !important; 
  }

  /* Hide the Manage Extensions footer button */
  #unified-extensions-manage-extensions { 
    display: none !important; 
  }
}

#unified-extras-button{
  margin-left: 132px;
}



/* Panel Positioning Styles */
#unified-extensions-panel {
  margin-left: -108px !important;
}

#unified-extensions-panel[position="bottomright topright"] {
  position: fixed !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

@media (-moz-bool-pref: "mod.extension.viewgrid") {
  #unified-extensions-view toolbarseparator {
    margin-top: 0px !important;
  }
}

panel toolbarseparator {
  margin: 0 !important;
}



#unified-extensions-messages-container{
  margin: 0 !important;
}

.unified-extensions-item-icon,
.unified-extensions-item .webextension-browser-action.subviewbutton > .toolbarbutton-badge-stack > .toolbarbutton-icon {
  margin-left: 5px !important;
}

.subviewbutton-iconic {
  & > .toolbarbutton-icon {
    margin-left: 6px !important;
  }
}

#unified-extensions-area {
  .unified-extensions-item-action-button {
    background-color: color-mix(in srgb, currentcolor 6%, transparent) !important;
    width: 48px;
  }
}

#overflowed-extensions-list {
  .unified-extensions-item-action-button {
    width: 48px;
  }
}

#unified-extensions-area {
  .unified-extensions-item-action-button:hover {
    background-color: color-mix(in srgb, currentcolor 10%, transparent) !important;
    cursor: pointer !important;
  }
}

:is(panelview, #widget-overflow-fixed-list) .toolbaritem-combined-buttons {
  margin: 4.8px !important;
}

:is(panelview .toolbarbutton-1, toolbarbutton.subviewbutton, .widget-overflow-list .toolbarbutton-1, .toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"]) > toolbarbutton) {
  &:not([disabled]):hover {
    background-color: color-mix(in srgb, currentcolor 10%, transparent) !important;
    cursor: pointer !important;
  }

#unified-extensions-panel .unified-extensions-item {
  margin-block: 4.8px !important;
}

