


@-moz-document url("chrome://global/content/pictureinpicture/player.xhtml") {
  html {
    border-radius: 60px !important;
  }
}

@media (-moz-pref("arcline.url.bar", 0))  {
 /* The following rules apply overflow masks to the unfocused urlbar
     This mask may be overriden when a Contextual Feature Recommendation is shown. */
  #urlbar:not([focused])[textoverflow="both"] > .urlbar-input-container > .urlbar-input-box > & {
    mask-image: none !important;
  
   
  }
  #urlbar:not([focused])[textoverflow="right"] > .urlbar-input-container > .urlbar-input-box > & {
    mask-image: none !important;
    margin-top: 0.4rem !important;
   
  }
  #urlbar:not([focused])[textoverflow="left"] > .urlbar-input-container > .urlbar-input-box > & {
    mask-image: none !important;
    
  }
  #urlbar:not([focused])[textoverflow="left"][domaindir="rtl"] > .urlbar-input-container > .urlbar-input-box > & {
    mask-image: none !important;
  }


 #urlbar:not([focused]) .urlbar-input-container , .urlbar-input-box   {
    mask-image: none !important;
    margin-top: -0.04rem !important;
  }

  #urlbar-searchmode-switcher {
  margin-top: 0.34rem !important;
    height: 2rem !important;
    margin-left: -3px !important;
    min-height: 2px !important;
 border-radius: 9px !important;
    padding: 5px !important;
    scale: 0.8 !important;
 background-color: light-dark(rgba(255, 255, 255, 0.15), rgba(0, 0, 0, 0.15)) !important;
    padding-top: 1.1rem !important;
      padding-bottom: 1.1rem !important;
   text-align: center !important;
}


#searchmode-switcher-chicklet {
   background-color: light-dark(rgba(255, 255, 255, 0.5), rgba(0, 0, 0, 0.15)) !important;
  border-start-end-radius: var(--toolbarbutton-border-radius);
  border-end-end-radius: var(--urlbar-icon-border-radius);
  align-items: center;
  scale: 0.9 !important;
margin-left: -4px !important;
  padding-left: 8px !important;
  margin-top: 0.35rem !important;
  border-radius: 9px !important;
  height: 2rem !important;
   padding-top: 1.1rem !important;
      padding-bottom: 1.1rem !important;
   
  margin-inline-end: var(--urlbar-searchmodeswitcher-margin-inline-end);
  display: none;
}




























@media (prefers-color-scheme: light) {

  
  
  
  
  
.urlbar-revert-button {
  background-image:  url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg viewBox='-9 1 40 22' fill='none' xmlns='http://www.w3.org/2000/svg' width='24' height='24' xmlns:bx='https://boxy-svg.com'%3E%3Cdefs%3E%3Cbx:export%3E%3Cbx:file format='svg' path='site icon.svg'/%3E%3C/bx:export%3E%3C/defs%3E%3Cpath d='M 22.754 14.892 L 22.746 8.892 C 22.738 3.462 20.414 1.165 14.985 1.22 L 8.985 1.28 C 3.555 1.335 1.238 3.678 1.246 9.108 L 1.254 15.108 C 1.262 20.538 3.586 22.835 9.015 22.78 L 15.015 22.72 C 20.445 22.665 22.762 20.322 22.754 14.892 Z M 2.746 9.093 C 2.739 4.483 4.377 2.827 8.987 2.78 L 14.987 2.72 C 19.597 2.673 21.239 4.297 21.246 8.907 L 21.254 14.907 C 21.261 19.517 19.623 21.173 15.013 21.22 L 9.013 21.28 C 4.403 21.327 2.761 19.703 2.754 15.093 L 2.746 9.093 Z' style='transform-origin: 12px 12px; fill: rgb(255, 255, 255);'/%3E%3Cpath d='M 19.257 15.507 C 19.256 15.097 18.916 14.76 18.506 14.765 L 14.606 14.804 C 14.196 14.808 13.857 15.151 13.857 15.561 C 13.858 15.971 14.198 16.308 14.608 16.304 L 18.508 16.265 C 18.918 16.26 19.258 15.917 19.257 15.507 Z' style='transform-origin: 12px 12px; fill: rgb(255, 255, 255);'/%3E%3Cpath d='M 8.205 15.618 C 8.205 15.208 7.864 14.872 7.454 14.876 L 5.504 14.895 C 5.094 14.9 4.755 15.243 4.755 15.653 C 4.756 16.063 5.096 16.4 5.506 16.395 L 7.456 16.376 C 7.866 16.372 8.206 16.028 8.205 15.618 Z' style='transform-origin: 12px 12px; fill: rgb(255, 255, 255);'/%3E%3Cpath d='M 13.404 15.567 C 13.401 13.717 11.899 12.232 10.049 12.251 C 8.2 12.269 6.703 13.784 6.705 15.634 C 6.708 17.484 8.21 18.969 10.059 18.951 C 11.909 18.932 13.407 17.407 13.404 15.567 Z M 8.205 15.619 C 8.204 14.599 9.033 13.761 10.052 13.751 C 11.071 13.74 11.903 14.562 11.904 15.582 C 11.906 16.602 11.077 17.44 10.057 17.451 C 9.038 17.461 8.207 16.629 8.205 15.619 Z' style='transform-origin: 12px 12px; fill: rgb(255, 255, 255);'/%3E%3Cpath d='M 19.246 8.347 C 19.245 7.937 18.905 7.6 18.495 7.605 L 16.545 7.624 C 16.135 7.628 15.795 7.972 15.796 8.382 C 15.796 8.792 16.137 9.128 16.547 9.124 L 18.497 9.105 C 18.907 9.1 19.246 8.767 19.246 8.347 Z' style='transform-origin: 12px 12px; fill: rgb(255, 255, 255);'/%3E%3Cpath d='M 10.145 8.439 C 10.144 8.029 9.804 7.692 9.394 7.696 L 5.494 7.735 C 5.084 7.74 4.744 8.083 4.745 8.493 C 4.746 8.903 5.086 9.24 5.496 9.235 L 9.396 9.196 C 9.806 9.192 10.145 8.859 10.145 8.439 Z' style='transform-origin: 12px 12px; fill: rgb(255, 255, 255);'/%3E%3Cpath d='M 17.297 8.367 C 17.294 6.517 15.792 5.032 13.942 5.05 C 12.092 5.069 10.594 6.584 10.597 8.434 C 10.6 10.284 12.102 11.769 13.952 11.75 C 15.802 11.732 17.299 10.217 17.297 8.367 Z M 12.097 8.419 C 12.095 7.399 12.924 6.561 13.944 6.55 C 14.964 6.54 15.795 7.362 15.797 8.382 C 15.798 9.402 14.969 10.24 13.949 10.25 C 12.93 10.261 12.098 9.449 12.097 8.419 Z' style='transform-origin: 12px 12px; fill: rgb(255, 255, 255);'/%3E%3C/svg%3E%0A") !important;
filter: invert(1) !important;
  fill: none !important;
  scale: 0.8 !important;
list-style-image: none !important;
  background-size: contain !important;
  margin-top: 1.8px !important;
  height: 32px !important;
  width: 33px !important;
  margin-right: -6px !important;
}


  
  
  
  
  
  
  
  
  
  
  
  
  #urlbar-background{
       background-color: rgba(0,0,0,0.1) !important;


  }
  
  
  
  
  
  
  .urlbarView-row {
  &[rich-suggestion][type="search"] {
    :root:not([uidensity="touch"]) & {
      min-height: 26px !important;
      max-height: 45px !important;
    }
  }
}

.urlbarView-row {
  &:not([type="tip"], [type="dynamic"]) {
    :root[uidensity="touch"] & {
      padding-block: 5px !important;
      
      
    }
  }
}

.urlbarView-button {
 transform-origin: center !important;
  transform: translateX(-5px) !important;
}



#urlbar[open][zen-floating-urlbar='true'] {
 
 top: 15rem !important;
  min-width: 57rem !important;
  
  #pageAction-urlbar-copy-frame-url_jeffersonscher_com {
   

    top: -0.5px !important;
left: -3.4rem !important;
   
    
}
  
  #reader-mode-button{
    transform: translateX(-35px) !important;
  }

#urlbar-zoom-button {
  appearance: none;
  transform: translateY(1px)  translateX(17px)!important;
  font-size: 0.7em !important;
 padding-left: 8px !important;
  padding-top: 4px !important;
  margin-top: -0.1px !important;
  margin-right: 60px !important;
    padding-bottom: 4px !important;
  padding-right: 7px !important;
  border-radius: var(--urlbar-icon-border-radius);
  background: none !important;
  background-color: light-dark(rgba(255, 255, 255, 0.5), rgba(0, 0, 0, 0.2)) !important;
  color: var(--urlbar-box-text-color);
  margin-block: calc((var(--urlbar-min-height) - 20px) / 2 - 1px - var(--urlbar-container-padding));
  overflow: hidden;
}

  
  
  #pageAction-panel-bookmark, #star-button, #zen-bookmark-button {
  list-style-image:  url("data:image/svg+xml,%3Csvg width='92' height='40' viewBox='0 0 92 40' xmlns='http://www.w3.org/2000/svg' font-family='Segoe UI, Arial, sans-serif' font-size='18' font-weight='600'%3E%3Ctitle%3ECtrl K Keys Icon%3C/title%3E%3Cdesc%3EIcon showing keyboard keys for Ctrl and K.%3C/desc%3E%3Cstyle%3E .key %7B fill: %233A3A3A; /* Dark grey background for keys */ rx: 5; /* Rounded corners */ ry: 5; %7D .key-text %7B fill: %23BDBDBD; /* Lighter grey text color */ text-anchor: middle; /* Center text horizontally */ dominant-baseline: middle; /* Center text vertically */ %7D %3C/style%3E%3C!-- Ctrl Key --%3E%3Cg id='ctrl-key'%3E%3Crect class='key' x='1' y='3' width='48' height='34' /%3E%3Ctext class='key-text' x='25' y='20.5'%3ECtrl%3C/text%3E%3C!-- Adjusted y slightly for visual centering --%3E%3C/g%3E%3C!-- K Key --%3E%3Cg id='k-key'%3E%3Crect class='key' x='53' y='3' width='36' height='34' /%3E%3Ctext class='key-text' x='71' y='20.5'%3EK%3C/text%3E%3C!-- Adjusted y slightly for visual centering --%3E%3C/g%3E%3C/svg%3E%0A") !important;
      scale: 2 !important;
      height: 28px !important;
      width: 28px !important;
  margin-left: -40px !important;
}

.urlbar-input:root {
    font-size: 14px !important;
   /* color: #FFFFFF !important;*/
 
   max-width:  85% !important;
  /*  padding-right: 12px !important;*/
   font-weight: 510 !important;
/* padding-top: 0px !important;*/
  filter: brightness(75%) !important;
  margin-top: 2px !important;
   overflow: hidden !important;
  display: inline-block !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  opacity: 1 !important;
}



  
}


/* Acrylic/Mica floating Urlbar */
#urlbar[zen-floating-urlbar="true"] #urlbar-background {
  
   background:  light-dark(rgba(220,220,220,0.69),rgba(20,20,20,0.69)) !important;

   
    backdrop-filter: blur(64px) brightness(1) saturate(1.1) contrast(1.1) !important;
}

.urlbarView-row {
  &[selected] {
    & .urlbarView-favicon {
      background: color-mix(in srgb, #fff 5%, var(--urlbarView-highlight-background) 95%) !important;
    }
  }
}


.urlbarView-body-inner {
  #urlbar[open] > .urlbarView > .urlbarView-body-outer > & {
    border-top: 2px solid rgba(255,255,255,0.1) !important;
  }
}

/* === In your userChrome.css === */

/* Make sure the #browser element is a positioning context */
#browser {
  position: relative !important; /* Or absolute/fixed depending on context */
   isolation: isolate; /*might be useful too */
}

/* === SECOND PSEUDO-ELEMENT (::before - Your Floating Background) === */
#browser::before {
  /* Basic setup */
  content: "";
  position: absolute;
  pointer-events: none !important;
  
padding-bottom: 5rem !important;
  /* --- Appearance --- */
  background-color: var(--toolbar-bgcolor, #f0f0f0) !important;
  border-radius: 14px !important;
    background: linear-gradient(to right, light-dark(#eee, #666) 0px, light-dark(#eee, #666)) !important;

      
     

  /* --- Positioning & Size --- */
  margin-top: 15.04rem !important; /* Your fixed vertical position */
  left: 50% !important;           /* Using left/transform for robustness */
  transform: translateX(-50%) !important;
  width: min(90%, 56.86rem) !important;

  /* --- DYNAMIC HEIGHT --- */
  /* Use the JS variable, fallback to your fixed height if variable isn't set */
  height: var(--urlbar-view-dynamic-height, 39rem) !important;

  /* --- Stacking & Visibility --- */
  z-index: -1 !important;
  opacity: 0 !important; /* Start hidden */

  /* --- Animation --- */
  /* Transition opacity. Height changes might be instant or you could transition height too */
  transition: opacity 0s ease-out !important;
          /*    height 0.1s ease-out !important; /* Optional: animate height changes */
}

/* --- Trigger for ::before (When URL bar is open) --- */
body:has(#urlbar[open]) #browser::before {
  opacity: 1 !important;
}





#urlbar[zen-floating-urlbar="true"] {
    padding: 4px !important;
    #identity-box[pageproxystate="invalid"] {
        & #identity-icon {
            scale: 0.9 !important;
          margin-top: 0px !important;
            fill-opacity: 1 !important;
        }
    }
    
    .urlbar-input-container {
        display: flex !important;
        align-items: center !important;
    }
    
    .urlbarView-row {
        padding: 0 0px !important;
        &:not([type="tip"], [type="dynamic"]) {
            padding-block: 0px !important;
         
        }
    }
}


.urlbar-input {
    font-size: 13.5px !important;
   /* color: #FFFFFF !important;*/

  /*  padding-right: 12px !important;*/
   font-weight: 510 !important;
/* padding-top: 0px !important;*/
  filter: brightness(85%) !important;
  margin-top: 2px !important;
  
}





#urlbar-label-box {
    background: color-mix(in srgb, var(--zen-primary-color) 50%, transparent 50%) !important;
    font-weight: 600 !important;
    color: #fff !important;
  margin-top: 3px !important;
  scale: 0.89 !important;
  margin-left: -9px !important;
    border-radius: 18px !important;
    padding: 7px 8px !important;
    scale: 0.8 !important;
}





.urlbarView-row {
  &:not([type="tip"], [type="dynamic"]) {
    :root[uidensity="touch"] & {
      padding-block: 4px !important;
    }
  }
}

#urlbar[breakout][breakout-extend] {
    & > .urlbar-input-container {
        height: 60px !important;  
    }
}

#urlbar-search-mode-indicator-close, #searchmode-switcher-close {
    fill-opacity: 1 !important;
}

.urlbarView-row[has-action]:is([type="switchtab"], [type="remotetab"], [type="clipboard"]) {
  & > .urlbarView-row-inner > .urlbarView-no-wrap > .urlbarView-action {
   
    background: transparent !important;
    border: none !important;
  padding: none !important;
      
  }
}

.urlbarView-row[type='dynamic']{    
    width: 100% !important;
    display: block !important;
    height: 0 !important;
    position: relative !important;

    .urlbarView-action-btn {
        position: absolute !important;
        right: 0% !important;
        bottom: 0% !important;
        transform: translateY(-13.5px) !important;
       display:  none  !important;
        color: color-mix(in srgb, var(--zen-primary-color) 50%, black 50%) !important;
        background-color: #fff !important;
        margin-inline-end: var(--space-large);
        border-radius: 8px !important;
    }
}
  
  
  
}




/*------------------------------------------------------------*/














@media (prefers-color-scheme: dark) {

  
  
  
  
  
.urlbar-revert-button {
 background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg viewBox='52 40 35 35' fill='none' xmlns='http://www.w3.org/2000/svg' width='24' height='24' xmlns:bx='https://boxy-svg.com'%3E%3Cdefs%3E%3Cbx:export%3E%3Cbx:file format='svg' path='fill site.svg'/%3E%3C/bx:export%3E%3C/defs%3E%3Cpath d='M 79.333 52.766 C 79.951 54.14 79.742 62.673 79.374 61.856 C 79.682 64.781 77.666 67.257 74.386 66.594 C 74.386 67.084 65.698 67.668 65.698 66.844 C 62.491 67.434 60.687 64.663 60.96 61.773 C 60.02 61.896 59.172 53.097 60.752 52.891 C 60 50.79 61.408 49.653 62.911 49.017 C 61.256 49.908 60.6 51.643 60.604 54.565 C 60.604 54.81 60.612 60.977 60.612 60.565 C 61.666 64.546 62.267 66.796 66.871 66.752 L 72.871 66.692 C 77.481 66.645 79.119 64.989 79.112 60.379 L 79.104 54.379 C 79.099 51.406 78.415 49.675 76.694 48.833 C 78.388 49.671 79.517 51.074 79.333 52.766 Z M 72.873 68.192 L 66.873 68.252 C 61.444 68.307 59.12 66.01 59.112 60.58 L 59.104 54.58 C 59.096 49.15 61.413 46.807 66.843 46.752 L 72.843 46.692 C 78.272 46.637 80.596 48.934 80.604 54.364 L 80.612 60.364 C 80.62 65.794 78.303 68.137 72.873 68.192 Z M 76.983 61.287 C 76.982 60.877 76.642 60.54 76.232 60.545 L 72.332 60.584 C 71.922 60.588 71.583 60.931 71.583 61.341 C 71.584 61.751 71.924 62.088 72.334 62.084 L 76.234 62.045 C 76.644 62.04 76.984 61.697 76.983 61.287 Z M 65.931 61.398 L 65.931 61.397 C 65.931 60.378 66.76 59.541 67.778 59.531 C 68.797 59.52 69.629 60.342 69.63 61.362 C 69.632 62.382 68.803 63.22 67.783 63.231 C 66.764 63.241 65.934 62.41 65.931 61.4 C 65.931 61.399 65.931 61.399 65.931 61.398 Z M 63.23 60.675 C 62.82 60.68 62.481 61.023 62.481 61.433 C 62.482 61.843 62.822 62.18 63.232 62.175 L 64.516 62.162 C 64.859 63.648 66.193 64.747 67.785 64.731 C 69.635 64.712 71.133 63.187 71.13 61.347 C 71.127 59.497 69.625 58.012 67.775 58.031 C 66.184 58.046 64.854 59.17 64.515 60.662 L 63.23 60.675 Z M 76.972 54.127 C 76.971 53.717 76.631 53.38 76.221 53.385 L 74.937 53.398 C 74.594 51.912 73.26 50.815 71.668 50.83 C 69.818 50.849 68.32 52.364 68.323 54.214 C 68.326 56.064 69.828 57.549 71.678 57.53 C 73.27 57.515 74.601 56.39 74.94 54.898 L 76.223 54.885 C 76.633 54.88 76.972 54.547 76.972 54.127 Z M 73.522 54.162 C 73.522 54.173 73.522 54.184 73.523 54.195 C 73.506 55.2 72.684 56.02 71.675 56.03 C 70.656 56.041 69.824 55.229 69.823 54.199 C 69.821 53.179 70.65 52.341 71.67 52.33 C 72.679 52.32 73.503 53.124 73.523 54.129 C 73.522 54.14 73.522 54.151 73.522 54.162 Z M 67.871 54.219 C 67.87 53.809 67.53 53.472 67.12 53.476 L 63.22 53.515 C 62.81 53.52 62.47 53.863 62.471 54.273 C 62.472 54.683 62.812 55.02 63.222 55.015 L 67.122 54.976 C 67.532 54.972 67.871 54.639 67.871 54.219 Z' style='stroke: rgb(157, 90, 90); stroke-width: 0px; fill: rgb(255, 255, 255);'/%3E%3Crect x='-55.312' y='47.91' width='41.859' height='28.433' style='fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);'/%3E%3Cpath d='M -24.239 20.421 L -24.247 14.421 C -24.255 8.991 -26.579 6.694 -32.008 6.749 L -38.008 6.809 C -43.438 6.864 -45.755 9.207 -45.747 14.637 L -45.739 20.637 C -45.731 26.067 -43.407 28.364 -37.978 28.309 L -31.978 28.249 C -26.548 28.194 -24.231 25.851 -24.239 20.421 Z M -44.247 14.622 C -44.254 10.012 -42.616 8.356 -38.006 8.309 L -32.006 8.249 C -27.396 8.202 -25.754 9.826 -25.747 14.436 L -25.739 20.436 C -25.732 25.046 -27.37 26.702 -31.98 26.749 L -37.98 26.809 C -42.59 26.856 -44.232 25.232 -44.239 20.622 L -44.247 14.622 Z' style='fill: rgb(255, 255, 255); transform-origin: -34.993px 17.529px;'/%3E%3Cpath d='M 67.884 27.942 L 67.875 20.838 C 67.866 14.41 65.134 11.69 58.753 11.755 L 51.702 11.826 C 45.32 11.891 42.597 14.666 42.606 21.093 L 42.615 28.197 C 42.624 34.625 45.356 37.345 51.737 37.28 L 58.789 37.209 C 65.17 37.144 67.893 34.369 67.884 27.942 Z M 44.369 21.077 C 44.361 15.618 46.286 13.658 51.704 13.601 L 58.756 13.531 C 64.174 13.476 66.103 15.397 66.112 20.856 L 66.121 27.958 C 66.129 33.417 64.204 35.376 58.786 35.434 L 51.734 35.504 C 46.316 35.559 44.387 33.639 44.378 28.179 L 44.369 21.077 Z' style='fill: rgb(255, 255, 255); stroke-width: 7px; transform-origin: 55.246px 24.516px;'/%3E%3C/svg%3E%0A") !important;
list-style-image: none !important;
  fill: none !important;
  scale: 0.7 !important;
  background-size: contain !important;
  margin-top: 0.1rem !important;
  height: 32px !important;
  width: 33px !important;
  margin-right: -6px !important;
}


  
  
  
  
  
  
  
  
  
  
  
  .urlbarView-row {
  &[rich-suggestion][type="search"] {
    :root:not([uidensity="touch"]) & {
      min-height: 26px !important;
      max-height: 45px !important;
    }
  }
}

.urlbarView-row {
  &:not([type="tip"], [type="dynamic"]) {
    :root[uidensity="touch"] & {
      padding-block: 5px !important;
      
      
    }
  }
}

.urlbarView-button {
 transform-origin: center !important;
  transform: translateX(-5px) !important;
}



#urlbar[open][zen-floating-urlbar='true'] {
 
 top: 15rem !important;
  min-width: 57rem !important;
  
  #pageAction-urlbar-copy-frame-url_jeffersonscher_com {
   

    top: -0.5px !important;
left: -3.4rem !important;
   
    
}
  
  #reader-mode-button{
    transform: translateX(-35px) !important;
  }

#urlbar-zoom-button {
  appearance: none;
  transform: translateY(1px)  translateX(17px)!important;
  font-size: 0.7em !important;
 padding-left: 8px !important;
  padding-top: 4px !important;
  margin-top: -0.1px !important;
  margin-right: 60px !important;
    padding-bottom: 4px !important;
  padding-right: 7px !important;
  border-radius: var(--urlbar-icon-border-radius);
  background: none !important;
  background-color: light-dark(rgba(255, 255, 255, 0.5), rgba(0, 0, 0, 0.2)) !important;
  color: var(--urlbar-box-text-color);
  margin-block: calc((var(--urlbar-min-height) - 20px) / 2 - 1px - var(--urlbar-container-padding));
  overflow: hidden;
}

  
  
  #pageAction-panel-bookmark, #star-button, #zen-bookmark-button {
  list-style-image:  url("data:image/svg+xml,%3Csvg width='92' height='40' viewBox='0 0 92 40' xmlns='http://www.w3.org/2000/svg' font-family='Segoe UI, Arial, sans-serif' font-size='18' font-weight='600'%3E%3Ctitle%3ECtrl K Keys Icon%3C/title%3E%3Cdesc%3EIcon showing keyboard keys for Ctrl and K.%3C/desc%3E%3Cstyle%3E .key %7B fill: %233A3A3A; /* Dark grey background for keys */ rx: 5; /* Rounded corners */ ry: 5; %7D .key-text %7B fill: %23BDBDBD; /* Lighter grey text color */ text-anchor: middle; /* Center text horizontally */ dominant-baseline: middle; /* Center text vertically */ %7D %3C/style%3E%3C!-- Ctrl Key --%3E%3Cg id='ctrl-key'%3E%3Crect class='key' x='1' y='3' width='48' height='34' /%3E%3Ctext class='key-text' x='25' y='20.5'%3ECtrl%3C/text%3E%3C!-- Adjusted y slightly for visual centering --%3E%3C/g%3E%3C!-- K Key --%3E%3Cg id='k-key'%3E%3Crect class='key' x='53' y='3' width='36' height='34' /%3E%3Ctext class='key-text' x='71' y='20.5'%3EK%3C/text%3E%3C!-- Adjusted y slightly for visual centering --%3E%3C/g%3E%3C/svg%3E%0A") !important;
      scale: 2 !important;
      height: 28px !important;
      width: 28px !important;
  margin-left: -40px !important;
}

.urlbar-input:root {
    font-size: 14px !important;
   /* color: #FFFFFF !important;*/
 
   max-width:  85% !important;
  /*  padding-right: 12px !important;*/
   font-weight: 510 !important;
/* padding-top: 0px !important;*/
  filter: brightness(75%) !important;
  margin-top: 2px !important;
   overflow: hidden !important;
  display: inline-block !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  opacity: 1 !important;
}



  
}


/* Acrylic/Mica floating Urlbar */
#urlbar[zen-floating-urlbar="true"] #urlbar-background {
    background: rgba(20, 20, 20, 0.69) !important;
  
    backdrop-filter: blur(64px) brightness(1) saturate(1.1) contrast(1.1) !important;
}

.urlbarView-row {
  &[selected] {
    & .urlbarView-favicon {
      background: color-mix(in srgb, #fff 5%, var(--urlbarView-highlight-background) 95%) !important;
    }
  }
}


.urlbarView-body-inner {
  #urlbar[open] > .urlbarView > .urlbarView-body-outer > & {
    border-top: 2px solid rgba(255,255,255,0.1) !important;
  }
}

/* === In your userChrome.css === */

/* Make sure the #browser element is a positioning context */
#browser {
  position: relative !important; /* Or absolute/fixed depending on context */
   isolation: isolate; /*might be useful too */
}

/* === SECOND PSEUDO-ELEMENT (::before - Your Floating Background) === */
#browser::before {
  /* Basic setup */
  content: "";
  position: absolute;
  pointer-events: none !important;
  
padding-bottom: 5rem !important;
  /* --- Appearance --- */
  background-color: var(--toolbar-bgcolor, #f0f0f0) !important;
  border-radius: 14px !important;
    background: linear-gradient(to right, light-dark(#eee, #666) 0px, light-dark(#eee, #666)) !important;

      
     

  /* --- Positioning & Size --- */
  margin-top: 15.04rem !important; /* Your fixed vertical position */
  left: 50% !important;           /* Using left/transform for robustness */
  transform: translateX(-50%) !important;
  width: min(90%, 56.86rem) !important;

  /* --- DYNAMIC HEIGHT --- */
  /* Use the JS variable, fallback to your fixed height if variable isn't set */
  height: var(--urlbar-view-dynamic-height, 39rem) !important;

  /* --- Stacking & Visibility --- */
  z-index: -1 !important;
  opacity: 0 !important; /* Start hidden */

  /* --- Animation --- */
  /* Transition opacity. Height changes might be instant or you could transition height too */
  transition: opacity 0s ease-out !important;
          /*    height 0.1s ease-out !important; /* Optional: animate height changes */
}

/* --- Trigger for ::before (When URL bar is open) --- */
body:has(#urlbar[open]) #browser::before {
  opacity: 1 !important;
}





#urlbar[zen-floating-urlbar="true"] {
    padding: 4px !important;
    #identity-box[pageproxystate="invalid"] {
        & #identity-icon {
            scale: 0.9 !important;
          margin-top: 0px !important;
            fill-opacity: 1 !important;
        }
    }
    
    .urlbar-input-container {
        display: flex !important;
        align-items: center !important;
    }
    
    .urlbarView-row {
        padding: 0 0px !important;
        &:not([type="tip"], [type="dynamic"]) {
            padding-block: 0px !important;
         
        }
    }
}


.urlbar-input {
    font-size: 13.5px !important;
   /* color: #FFFFFF !important;*/

  /*  padding-right: 12px !important;*/
   font-weight: 510 !important;
/* padding-top: 0px !important;*/
  filter: brightness(75%) !important;
  margin-top: 2px !important;
  
}





#urlbar-label-box {
    background: color-mix(in srgb, var(--zen-primary-color) 50%, transparent 50%) !important;
    font-weight: 600 !important;
    color: #fff !important;
  margin-top: 3px !important;
  scale: 0.89 !important;
  margin-left: -9px !important;
    border-radius: 18px !important;
    padding: 7px 8px !important;
    scale: 0.8 !important;
}





.urlbarView-row {
  &:not([type="tip"], [type="dynamic"]) {
    :root[uidensity="touch"] & {
      padding-block: 4px !important;
    }
  }
}

#urlbar[breakout][breakout-extend] {
    & > .urlbar-input-container {
        height: 60px !important;  
    }
}

#urlbar-search-mode-indicator-close, #searchmode-switcher-close {
    fill-opacity: 1 !important;
}

.urlbarView-row[has-action]:is([type="switchtab"], [type="remotetab"], [type="clipboard"]) {
  & > .urlbarView-row-inner > .urlbarView-no-wrap > .urlbarView-action {
   
    background: transparent !important;
    border: none !important;
  padding: none !important;
      
  }
}

.urlbarView-row[type='dynamic']{    
    width: 100% !important;
    display: block !important;
    height: 0 !important;
    position: relative !important;

    .urlbarView-action-btn {
        position: absolute !important;
        right: 0% !important;
        bottom: 0% !important;
        transform: translateY(-13.5px) !important;
       display:  none  !important;
        color: color-mix(in srgb, var(--zen-primary-color) 50%, black 50%) !important;
        background-color: #fff !important;
        margin-inline-end: var(--space-large);
        border-radius: 8px !important;
    }
}
  
}

}



/*-------------------------------------------------------------------------------------------------------------------*/
/*==================================================================================================================*/




